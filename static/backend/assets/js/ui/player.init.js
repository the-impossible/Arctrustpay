let timeout;document.addEventListener("DOMContentLoaded",(()=>{new Plyr("audio",{controls:["play","progress","current-time","mute","volume","fullscreen"],autoplay:!1,loop:{active:!1},muted:!1}),window.player=player}));const player=new Plyr("#video_player"),urlInput=document.getElementById("url-input"),loadVideoButton=document.getElementById("load-video");function extractVideoID(e){const t=e.match(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);return t?t[1]:null}loadVideoButton.addEventListener("click",(()=>{clearTimeout(timeout),timeout=setTimeout((()=>{const e=extractVideoID(urlInput.value.trim());e?player.source={type:"video",sources:[{src:e,provider:"youtube"}]}:alert("Please enter a valid YouTube URL.")}),300)}));