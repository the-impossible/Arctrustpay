const htmlElement=document.documentElement,settings=[{attribute:"data-layout",defaultValue:"vertical"},{attribute:"data-bs-theme",defaultValue:"light"},{attribute:"data-content-width",defaultValue:"default"},{attribute:"dir",defaultValue:"ltr"},{attribute:"data-sidebar-color",defaultValue:"light"},{attribute:"data-sidebar",defaultValue:"default"},{attribute:"data-theme-colors",defaultValue:"default"}];function updateSidebarClick(){const e=document.getElementById("sidebar-simplebar");e&&e.querySelectorAll("ul.pe-main-menu > li > a").forEach((t=>{t.addEventListener("click",(a=>{a.preventDefault(),"icon"===document.documentElement.getAttribute("data-sidebar")&&setTimeout((()=>{e.querySelectorAll("ul.pe-main-menu > li > ul.show").forEach((e=>{e.classList.remove("show")})),t.setAttribute("aria-expanded","false"),t.classList.remove("collapsed"),t.nextElementSibling.classList.remove("show")}),300)}))}))}function removeHorizontalAttributes(){document.documentElement.removeAttribute("data-sidebar"),document.documentElement.setAttribute("data-topbar-theme","dark")}function setTheme(e){let t="";"auto"===e?(t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",htmlElement.setAttribute("data-bs-theme",t)):t=e}function setAndSaveAttribute(e,t){htmlElement.setAttribute(e,t),localStorage.setItem(e,t)}function updateLayoutDir(e){const t=document.getElementById("bootstrap-style"),a=document.getElementById("app-style");null!==t&&null!==a&&("rtl"===e?(t.href=t.href.replace("bootstrap.min.css","bootstrap-rtl.min.css"),a.href=a.href.replace("app.min.css","app-rtl.min.css")):(t.href=t.href.replace("bootstrap-rtl.min.css","bootstrap.min.css"),a.href=a.href.replace("app-rtl.min.css","app.min.css")))}function updateSimpleBar(e){const t=document.getElementById("sidebar-simplebar");if("vertical"!==e&&"horizontal"!==e&&"default"!==e&&"semibox"!==e&&"medium"!==e&&"icon-hover"!==e||"icon"===document.documentElement.getAttribute("data-sidebar"))setTimeout((()=>{if(window.SimpleBar){const e=SimpleBar.instances.get(t);if(e){e.unMount();const a=t.querySelector("ul.pe-main-menu");a&&(t.innerHTML=a.parentElement.innerHTML,updateSidebarClick())}}}),0);else if(t){const e=t.querySelector("ul.pe-main-menu");e&&(t.innerHTML=e.parentElement.innerHTML),t.setAttribute("data-simplebar",""),window.SimpleBar&&new SimpleBar(t)}}function handleRadioChange(e){const{name:t,value:a}=e.target;switch(t){case"data-bs-theme":setAndSaveAttribute("data-bs-theme",a),setTheme(a);break;case"data-layout":setAndSaveAttribute("data-layout",a),"horizontal"===a?(removeHorizontalAttributes(),setAndSaveAttribute("data-topbar-theme","dark")):document.documentElement.removeAttribute("data-topbar-theme"),updateSimpleBar(a);break;case"data-content-width":setAndSaveAttribute("data-content-width",a);break;case"dir":setAndSaveAttribute("dir",a),updateLayoutDir(a);break;case"data-sidebar":"horizontal"!==document.documentElement.getAttribute("data-layout")&&setAndSaveAttribute("data-sidebar",a),updateSimpleBar(a);break;case"data-sidebar-color":setAndSaveAttribute("data-sidebar-color",a);break;case"data-theme-colors":setAndSaveAttribute("data-theme-colors",a)}}settings.forEach((e=>{const t=localStorage.getItem(e.attribute)||e.defaultValue;htmlElement.setAttribute(e.attribute,t),"dir"===e.attribute?updateLayoutDir(t):"data-bs-theme"===e.attribute&&setTheme(t);const a=`input[name="${e.attribute}"][value="${t}"]`,n=document.querySelector(a);n&&(n.checked=!0)})),updateSimpleBar(htmlElement.getAttribute("data-sidebar")??htmlElement.getAttribute("data-layout")),"horizontal"===document.documentElement.getAttribute("data-layout")&&removeHorizontalAttributes(),document.querySelectorAll('.layout-customizer input[type="radio"]').forEach((e=>{e.addEventListener("change",handleRadioChange)}));const toggleMode=document.getElementById("toggleMode"),lightModeButton=document.getElementById("lightModeBtn"),darkModeButton=document.getElementById("darkModeBtn");toggleMode?.addEventListener("click",(()=>{const e="light"===htmlElement.getAttribute("data-bs-theme")?"dark":"light";setAndSaveAttribute("data-bs-theme",e),setTheme(e),"dark"===e?(lightModeButton.classList.remove("active"),darkModeButton.classList.add("active")):(darkModeButton.classList.remove("active"),lightModeButton.classList.add("active"))}));const toggleButton=document.getElementById("toggleSidebar"),sideBarBackdrop=document.getElementById("sidebar-backdrop");function removeShowClassFromSidebar(){const e=document.getElementById("sidebar-simplebar");e?.querySelectorAll(".pe-slide-menu.collapse.show").forEach((e=>{e.classList.remove("show")}))}sideBarBackdrop?.addEventListener("click",(()=>{"horizontal"===htmlElement.getAttribute("data-layout")?document.getElementById("horizontal-aside").classList.toggle("show"):document.getElementById("sidebar").classList.remove("show")})),toggleButton?.addEventListener("click",(()=>{const e=htmlElement.getAttribute("data-sidebar");window.innerWidth<1024?(document.getElementById("sidebar").classList.add("show"),"horizontal"===document.documentElement.getAttribute("data-layout")&&removeHorizontalAttributes()):"icon"===e?htmlElement.setAttribute("data-sidebar","default"):(htmlElement.setAttribute("data-sidebar","icon"),removeShowClassFromSidebar()),updateSimpleBar(htmlElement.getAttribute("data-layout"))}));const horizontalToggle=document.getElementById("toggleHorizontal");horizontalToggle?.addEventListener("click",(()=>{window.innerWidth<1200&&document.getElementById("horizontal-aside").classList.toggle("show")}));let currentUrl=window.location.pathname;const menuLinks=document.querySelectorAll("#sidebar .pe-main-menu .pe-nav-link");"/"===currentUrl&&(currentUrl="/index.html");const currentLayout=htmlElement.getAttribute("data-layout"),currentSidebar=htmlElement.getAttribute("data-sidebar");menuLinks.forEach((e=>{const t=e.getAttribute("href");currentUrl.includes(t)&&(e.classList.add("active"),(e=>{let t=e.closest(".pe-has-sub");for(;t;){const e=t.querySelector(".pe-nav-link").getAttribute("aria-controls"),a=document.getElementById(e);a&&(t.children[0].classList.add("active"),"horizontal"!==currentLayout&&"icon"!==currentSidebar&&(a.classList.add("show"),t.children[0].setAttribute("aria-expanded","true"),t.querySelector(".pe-nav-arrow").classList.add("open"))),t=t.parentElement.closest(".pe-has-sub")}})(e))}));const horizontalMenuLinks=document.querySelectorAll("#horizontal-menu .pe-nav-link");horizontalMenuLinks.forEach((e=>{const t=e.getAttribute("href");if(currentUrl.includes(t)){e.classList.add("active");const t=e.closest(".pe-has-sub");if(t){const e=t.querySelector(".pe-nav-link").getAttribute("aria-controls");if(document.getElementById(e)){t.children[0].classList.add("active");const e=t.parentElement.closest(".pe-has-sub");if(e){const t=e.querySelector(".pe-nav-link").getAttribute("aria-controls");document.getElementById(t)&&e.children[0].classList.add("active")}}}}}));const resetBtn=document.getElementById("resetBtn");resetBtn?.addEventListener("click",(()=>{localStorage.clear(),window.location.reload()}));const sidebarDefaultArrow=document.getElementById("sidebarDefaultArrow");function handleResponsiveSidebar(){window.innerWidth<992&&document.documentElement.removeAttribute("data-sidebar")}sidebarDefaultArrow?.addEventListener("click",(()=>{setAndSaveAttribute("data-sidebar","default"),document.querySelector('input[name="data-sidebar"]').checked=!0})),handleResponsiveSidebar(),window.addEventListener("resize",handleResponsiveSidebar);