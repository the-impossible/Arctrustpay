import{e as a}from"../shared/utils.min.mjs";function t(t){let{swiper:e,extendParams:r,on:l}=t;r({parallax:{enabled:!1}});const s="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",i=(a,t)=>{const{rtl:r}=e,l=r?-1:1,s=a.getAttribute("data-swiper-parallax")||"0";let i=a.getAttribute("data-swiper-parallax-x"),p=a.getAttribute("data-swiper-parallax-y");const n=a.getAttribute("data-swiper-parallax-scale"),o=a.getAttribute("data-swiper-parallax-opacity"),d=a.getAttribute("data-swiper-parallax-rotate");if(i||p?(i=i||"0",p=p||"0"):e.isHorizontal()?(i=s,p="0"):(p=s,i="0"),i=i.indexOf("%")>=0?parseInt(i,10)*t*l+"%":i*t*l+"px",p=p.indexOf("%")>=0?parseInt(p,10)*t+"%":p*t+"px",null!=o){const e=o-(o-1)*(1-Math.abs(t));a.style.opacity=e}let x=`translate3d(${i}, ${p}, 0px)`;null!=n&&(x+=` scale(${n-(n-1)*(1-Math.abs(t))})`),d&&null!=d&&(x+=` rotate(${d*t*-1}deg)`),a.style.transform=x},p=()=>{const{el:t,slides:r,progress:l,snapGrid:p,isElement:n}=e,o=a(t,s);e.isElement&&o.push(...a(e.hostEl,s)),o.forEach((a=>{i(a,l)})),r.forEach(((a,t)=>{let r=a.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(r+=Math.ceil(t/2)-l*(p.length-1)),r=Math.min(Math.max(r,-1),1),a.querySelectorAll(`${s}, [data-swiper-parallax-rotate]`).forEach((a=>{i(a,r)}))}))};l("beforeInit",(()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)})),l("init",(()=>{e.params.parallax.enabled&&p()})),l("setTranslate",(()=>{e.params.parallax.enabled&&p()})),l("setTransition",((a,t)=>{e.params.parallax.enabled&&function(a){void 0===a&&(a=e.params.speed);const{el:t,hostEl:r}=e,l=[...t.querySelectorAll(s)];e.isElement&&l.push(...r.querySelectorAll(s)),l.forEach((t=>{let e=parseInt(t.getAttribute("data-swiper-parallax-duration"),10)||a;0===a&&(e=0),t.style.transitionDuration=`${e}ms`}))}(t)}))}export{t as default};