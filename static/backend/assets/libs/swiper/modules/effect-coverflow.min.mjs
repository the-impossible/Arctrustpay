import{c as e}from"../shared/create-shadow.min.mjs";import{e as t}from"../shared/effect-init.min.mjs";import{e as s}from"../shared/effect-target.min.mjs";import{g as r,o}from"../shared/utils.min.mjs";function a(a){let{swiper:i,extendParams:l,on:d}=a;l({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),t({effect:"coverflow",swiper:i,on:d,setTranslate:()=>{const{width:t,height:r,slides:a,slidesSizesGrid:l}=i,d=i.params.coverflowEffect,h=i.isHorizontal(),f=i.translate,c=h?t/2-f:r/2-f,n=h?d.rotate:-d.rotate,p=d.depth,m=o(i);for(let t=0,r=a.length;t<r;t+=1){const r=a[t],o=l[t],i=(c-r.swiperSlideOffset-o/2)/o,f="function"==typeof d.modifier?d.modifier(i):i*d.modifier;let w=h?n*f:0,y=h?0:n*f,b=-p*Math.abs(f),u=d.stretch;"string"==typeof u&&-1!==u.indexOf("%")&&(u=parseFloat(d.stretch)/100*o);let g=h?0:u*f,M=h?u*f:0,S=1-(1-d.scale)*Math.abs(f);Math.abs(M)<.001&&(M=0),Math.abs(g)<.001&&(g=0),Math.abs(b)<.001&&(b=0),Math.abs(w)<.001&&(w=0),Math.abs(y)<.001&&(y=0),Math.abs(S)<.001&&(S=0);const $=`translate3d(${M}px,${g}px,${b}px)  rotateX(${m(y)}deg) rotateY(${m(w)}deg) scale(${S})`;if(s(d,r).style.transform=$,r.style.zIndex=1-Math.abs(Math.round(f)),d.slideShadows){let t=h?r.querySelector(".swiper-slide-shadow-left"):r.querySelector(".swiper-slide-shadow-top"),s=h?r.querySelector(".swiper-slide-shadow-right"):r.querySelector(".swiper-slide-shadow-bottom");t||(t=e("coverflow",r,h?"left":"top")),s||(s=e("coverflow",r,h?"right":"bottom")),t&&(t.style.opacity=f>0?f:0),s&&(s.style.opacity=-f>0?-f:0)}}},setTransition:e=>{i.slides.map((e=>r(e))).forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>{t.style.transitionDuration=`${e}ms`}))}))},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}export{a as default};