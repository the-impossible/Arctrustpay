import{h as e,ref as t,onUpdated as a,provide as l,watch as o,nextTick as i,onMounted as d,onBeforeUnmount as r,onBeforeUpdate as n,computed as s,inject as p}from"vue";import{S as u}from"./shared/swiper-core.mjs";import{g as v,a as f,u as y,m as c}from"./shared/update-on-virtual-data.mjs";import{e as g,u as b,d as m,w as S,n as h,b as w,a as B}from"./shared/update-swiper.mjs";function O(e,t,a){void 0===e&&(e={});const l=[],o={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},i=(e,t)=>{Array.isArray(e)&&e.forEach((e=>{const a="symbol"==typeof e.type;"default"===t&&(t="container-end"),a&&e.children?i(e.children,t):e.type&&("SwiperSlide"===e.type.name||"AsyncComponentWrapper"===e.type.name)||e.componentOptions&&"SwiperSlide"===e.componentOptions.tag?l.push(e):o[t]&&o[t].push(e)}))};return Object.keys(e).forEach((t=>{if("function"!=typeof e[t])return;const a=e[t]();i(a,t)})),a.value=t.value,t.value=l,{slides:l,slots:o}}const C={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(n,s){let{slots:p,emit:C}=s;const{tag:x,wrapperTag:E}=n,N=t("swiper"),j=t(null),P=t(!1),T=t(!1),z=t(null),k=t(null),I=t(null),R={value:[]},M={value:[]},A=t(null),_=t(null),D=t(null),L=t(null),{params:F,passedParams:H}=v(n,!1);O(p,R,M),I.value=H,M.value=R.value,F.onAny=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),l=1;l<t;l++)a[l-1]=arguments[l];C(e,...a)},Object.assign(F.on,{_beforeBreakpoint:()=>{O(p,R,M),P.value=!0},_containerClasses(e,t){N.value=t}});const q={...F};if(delete q.wrapperClass,k.value=new u(q),k.value.virtual&&k.value.params.virtual.enabled){k.value.virtual.slides=R.value;const e={cache:!1,slides:R.value,renderExternal:e=>{j.value=e},renderExternalUpdate:!1};g(k.value.params.virtual,e),g(k.value.originalParams.virtual,e)}function G(t){return F.virtual?function(t,a,l){if(!l)return null;const o=e=>{let t=e;return e<0?t=a.length+e:t>=a.length&&(t-=a.length),t},i=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${l.offset}px`}:{top:`${l.offset}px`},{from:d,to:r}=l,n=t.value.params.loop?-a.length:0,s=t.value.params.loop?2*a.length:a.length,p=[];for(let e=n;e<s;e+=1)e>=d&&e<=r&&p.length<a.length&&p.push(a[o(e)]);return p.map((a=>(a.props||(a.props={}),a.props.style||(a.props.style={}),a.props.swiperRef=t,a.props.style=i,a.type?e(a.type,{...a.props},a.children):a.componentOptions?e(a.componentOptions.Ctor,{...a.props},a.componentOptions.children):void 0)))}(k,t,j.value):(t.forEach(((e,t)=>{e.props||(e.props={}),e.props.swiperRef=k,e.props.swiperSlideIndex=t})),t)}return a((()=>{!T.value&&k.value&&(k.value.emitSlidesClasses(),T.value=!0);const{passedParams:e}=v(n,!1),t=f(e,I.value,R.value,M.value,(e=>e.props&&e.props.key));I.value=e,(t.length||P.value)&&k.value&&!k.value.destroyed&&b({swiper:k.value,slides:R.value,passedParams:e,changedParams:t,nextEl:A.value,prevEl:_.value,scrollbarEl:L.value,paginationEl:D.value}),P.value=!1})),l("swiper",k),o(j,(()=>{i((()=>{y(k.value)}))})),d((()=>{z.value&&(c({el:z.value,nextEl:A.value,prevEl:_.value,paginationEl:D.value,scrollbarEl:L.value,swiper:k.value},F),C("swiper",k.value))})),r((()=>{k.value&&!k.value.destroyed&&k.value.destroy(!0,!1)})),()=>{const{slides:t,slots:a}=O(p,R,M);return e(x,{ref:z,class:m(N.value)},[a["container-start"],e(E,{class:S(F.wrapperClass)},[a["wrapper-start"],G(t),a["wrapper-end"]]),h(n)&&[e("div",{ref:_,class:"swiper-button-prev"}),e("div",{ref:A,class:"swiper-button-next"})],w(n)&&e("div",{ref:L,class:"swiper-scrollbar"}),B(n)&&e("div",{ref:D,class:"swiper-pagination"}),a["container-end"]])}}},x={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(o,i){let{slots:p}=i,u=!1;const{swiperRef:v}=o,f=t(null),y=t("swiper-slide"),c=t(!1);function g(e,t,a){t===f.value&&(y.value=a)}d((()=>{v&&v.value&&(v.value.on("_slideClass",g),u=!0)})),n((()=>{!u&&v&&v.value&&(v.value.on("_slideClass",g),u=!0)})),a((()=>{f.value&&v&&v.value&&(void 0!==o.swiperSlideIndex&&(f.value.swiperSlideIndex=o.swiperSlideIndex),v.value.destroyed&&"swiper-slide"!==y.value&&(y.value="swiper-slide"))})),r((()=>{v&&v.value&&v.value.off("_slideClass",g)}));const b=s((()=>({isActive:y.value.indexOf("swiper-slide-active")>=0,isVisible:y.value.indexOf("swiper-slide-visible")>=0,isPrev:y.value.indexOf("swiper-slide-prev")>=0,isNext:y.value.indexOf("swiper-slide-next")>=0})));l("swiperSlide",b);const S=()=>{c.value=!0};return()=>e(o.tag,{class:m(`${y.value}`),ref:f,"data-swiper-slide-index":void 0===o.virtualIndex&&v&&v.value&&v.value.params.loop?o.swiperSlideIndex:o.virtualIndex,onLoadCapture:S},o.zoom?e("div",{class:"swiper-zoom-container","data-swiper-zoom":"number"==typeof o.zoom?o.zoom:void 0},[p.default&&p.default(b.value),o.lazy&&!c.value&&e("div",{class:"swiper-lazy-preloader"})]):[p.default&&p.default(b.value),o.lazy&&!c.value&&e("div",{class:"swiper-lazy-preloader"})])}},E=()=>p("swiperSlide"),N=()=>p("swiper");export{C as Swiper,x as SwiperSlide,N as useSwiper,E as useSwiperSlide};