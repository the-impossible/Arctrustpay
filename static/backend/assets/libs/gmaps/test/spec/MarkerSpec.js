describe("Creating a marker",(function(){var e,t;beforeEach((function(){e=e||new GMaps({el:"#map-with-markers",lat:-12.0533,lng:-77.0293,zoom:14})})),describe("With basic options",(function(){beforeEach((function(){t=e.addMarker({lat:-12.0533,lng:-77.0293,title:"New marker"})})),it("should add the marker to the markers collection",(function(){expect(e.markers.length).toEqual(1),expect(e.markers[0]).toEqual(t)})),it("should create a marker with defined position",(function(){expect(parseFloat(t.getPosition().lat().toFixed(4))).toEqual(-12.0533),expect(parseFloat(t.getPosition().lng().toFixed(4))).toEqual(-77.0293)}))})),describe("With events",(function(){var r;beforeEach((function(){r={onclick:function(){console.log(this.title)}},spyOn(r,"onclick").and.callThrough(),t=e.addMarker({lat:-12.0533,lng:-77.0193,title:"New marker",click:r.onclick})})),it("should respond to click event",(function(){google.maps.event.trigger(t,"click"),expect(r.onclick).toHaveBeenCalled()}))}))})),describe("Removing markers",(function(){var e;beforeEach((function(){(e=e||new GMaps({el:"#map-with-markers",lat:-12.0533,lng:-77.0293,zoom:14})).removeMarkers(),e.addMarkers([{lat:-12.0523,lng:-77.0297,title:"Marker #1"},{lat:-12.0531,lng:-77.0289,title:"Marker #2"},{lat:-12.0537,lng:-77.0299,title:"Marker #3"},{lat:-12.0532,lng:-77.0278,title:"Marker #4"}])})),it("should remove a marker from the markers collection",(function(){e.removeMarker(e.markers[0]),expect(e.markers.length).toEqual(3)})),it("should remove an array of markers from the markers collection",(function(){var t=[e.markers[0],e.markers[2]];e.removeMarkers(t),expect(e.markers.length).toEqual(2)}))}));