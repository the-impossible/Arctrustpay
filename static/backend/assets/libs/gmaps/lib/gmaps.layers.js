GMaps.prototype.getFromFusionTables=function(e){var a=e.events;delete e.events;var r=e,s=new google.maps.FusionTablesLayer(r);for(var t in a)!function(e,r){google.maps.event.addListener(e,r,(function(e){a[r].apply(this,[e])}))}(s,t);return this.layers.push(s),s},GMaps.prototype.loadFromFusionTables=function(e){var a=this.getFromFusionTables(e);return a.setMap(this.map),a},GMaps.prototype.getFromKML=function(e){var a=e.url,r=e.events;delete e.url,delete e.events;var s=e,t=new google.maps.KmlLayer(a,s);for(var n in r)!function(e,a){google.maps.event.addListener(e,a,(function(e){r[a].apply(this,[e])}))}(t,n);return this.layers.push(t),t},GMaps.prototype.loadFromKML=function(e){var a=this.getFromKML(e);return a.setMap(this.map),a},GMaps.prototype.addLayer=function(e,a){var r;switch(a=a||{},e){case"weather":this.singleLayers.weather=r=new google.maps.weather.WeatherLayer;break;case"clouds":this.singleLayers.clouds=r=new google.maps.weather.CloudLayer;break;case"traffic":this.singleLayers.traffic=r=new google.maps.TrafficLayer;break;case"transit":this.singleLayers.transit=r=new google.maps.TransitLayer;break;case"bicycling":this.singleLayers.bicycling=r=new google.maps.BicyclingLayer;break;case"panoramio":this.singleLayers.panoramio=r=new google.maps.panoramio.PanoramioLayer,r.setTag(a.filter),delete a.filter,a.click&&google.maps.event.addListener(r,"click",(function(e){a.click(e),delete a.click}));break;case"places":if(this.singleLayers.places=r=new google.maps.places.PlacesService(this.map),a.search||a.nearbySearch||a.radarSearch){var s={bounds:a.bounds||null,keyword:a.keyword||null,location:a.location||null,name:a.name||null,radius:a.radius||null,rankBy:a.rankBy||null,types:a.types||null};a.radarSearch&&r.radarSearch(s,a.radarSearch),a.search&&r.search(s,a.search),a.nearbySearch&&r.nearbySearch(s,a.nearbySearch)}if(a.textSearch){var t={bounds:a.bounds||null,location:a.location||null,query:a.query||null,radius:a.radius||null};r.textSearch(t,a.textSearch)}}if(void 0!==r)return"function"==typeof r.setOptions&&r.setOptions(a),"function"==typeof r.setMap&&r.setMap(this.map),r},GMaps.prototype.removeLayer=function(e){if("string"==typeof e&&void 0!==this.singleLayers[e])this.singleLayers[e].setMap(null),delete this.singleLayers[e];else for(var a=0;a<this.layers.length;a++)if(this.layers[a]===e){this.layers[a].setMap(null),this.layers.splice(a,1);break}};