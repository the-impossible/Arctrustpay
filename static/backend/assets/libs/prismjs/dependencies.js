"use strict";var getLoader=function(){var r=function(){};function n(r,n){Array.isArray(r)?r.forEach(n):null!=r&&n(r,0)}function i(r){for(var n={},i=0,o=r.length;i<o;i++)n[r[i]]=!0;return n}function o(r){var i={},o=[];function t(o,e){if(!(o in i)){e.push(o);var a=e.indexOf(o);if(a<e.length-1)throw new Error("Circular dependency: "+e.slice(a).join(" -> "));var f={},u=r[o];if(u){function v(n){if(!(n in r))throw new Error(o+" depends on an unknown component "+n);if(!(n in f))for(var a in t(n,e),f[n]=!0,i[n])f[a]=!0}n(u.require,v),n(u.optional,v),n(u.modify,v)}i[o]=f,e.pop()}}return function(r){var n=i[r];return n||(t(r,o),n=i[r]),n}}function t(r){for(var n in r)return!0;return!1}return function(e,a,f){var u=function(r){var n={};for(var i in r){var o=r[i];for(var t in o)if("meta"!=t){var e=o[t];n[t]="string"==typeof e?{title:e}:e}}return n}(e),v=function(r){var i;return function(o){if(o in r)return o;if(!i)for(var t in i={},r){var e=r[t];n(e&&e.alias,(function(n){if(n in i)throw new Error(n+" cannot be alias for both "+t+" and "+i[n]);if(n in r)throw new Error(n+" cannot be alias of "+t+" because it is a component.");i[n]=t}))}return i[o]||o}}(u);a=a.map(v),f=(f||[]).map(v);var c=i(a),l=i(f);a.forEach((function r(i){var o=u[i];n(o&&o.require,(function(n){n in l||(c[n]=!0,r(n))}))}));for(var s,d=o(u),p=c;t(p);){for(var h in s={},p){var m=u[h];n(m&&m.modify,(function(r){r in l&&(s[r]=!0)}))}for(var w in l)if(!(w in c))for(var g in d(w))if(g in c){s[w]=!0;break}for(var y in p=s)c[y]=!0}var E={getIds:function(){var r=[];return E.load((function(n){r.push(n)})),r},load:function(n,i){return function(n,i,o,t){var e=t?t.series:void 0,a=t?t.parallel:r,f={},u={};function v(r){if(r in f)return f[r];u[r]=!0;var t,c=[];for(var l in n(r))l in i&&c.push(l);if(0===c.length)t=o(r);else{var s=a(c.map((function(r){var n=v(r);return delete u[r],n})));e?t=e(s,(function(){return o(r)})):o(r)}return f[r]=t}for(var c in i)v(c);var l=[];for(var s in u)l.push(f[s]);return a(l)}(d,c,n,i)}};return E}}();"undefined"!=typeof module&&(module.exports=getLoader);